<app-header></app-header>

<div class="container">
  <h2>Create and Confirm Your Password</h2>
  <p>Please create and confirm your password in the field below.</p>

  <input
    type="password"
    placeholder="Create Your Password"
    [formControl]="password"
    class="input"
  />

  <!-- CONFIRM PASSWORD INPUT -->
  <input
    type="password"
    placeholder="Confirm Your Password"
    [formControl]="confirmPassword"
    class="input"
  />

  <!-- MATCH ERROR -->
  <div class="error" *ngIf="confirmPassword?.value && !passwordsMatch()">
    The password and confirmation do not match. Please re-enter both fields to ensure they are the
    same.
  </div>

  <!-- PASSWORD RULES -->
  <ul class="rules">
    <li [class.valid]="(password.value ?? '').length >= 8">Must be at least 8 characters</li>

    <li [class.valid]="/[A-Z]/.test(password.value ?? '')">Must contain one uppercase letter</li>

    <li [class.valid]="/[a-z]/.test(password.value ?? '')">Must contain one lowercase letter</li>

    <li [class.valid]="/\\d/.test(password.value ?? '')">Must contain one numeral</li>

    <li [class.valid]="/[@$!%*?&]/.test(password.value ?? '')">
      Must contain one special character
    </li>
  </ul>

  <!-- PRIMARY BUTTON -->
  <app-primary-button
    [disabled]="!allValid()"
    label="Sign Up"
    (clicked)="onSubmit()"
  ></app-primary-button>
</div>
