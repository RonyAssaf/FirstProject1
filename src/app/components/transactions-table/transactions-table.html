<div class="transactions-card">
  <div class="topbar">
    <h2>Transactions</h2>

    <div class="topbar-actions">
      <div class="search-box">
        <span class="pi pi-search"></span>
        <input type="text" placeholder="Search" />
      </div>
      <button class="left" (click)="prevPage()" [disabled]="currentPage() === 0">
        <i class="pi pi-chevron-left"></i>
      </button>

      <span class="page-indicator"> Page {{ currentPageDisplay() }} / {{ totalPages() }} </span>

      <button
        class="right"
        (click)="nextPage()"
        [disabled]="(currentPage() + 1) * rowsPerPage >= filteredTransactions().length"
      >
        <i class="pi pi-chevron-right"></i>
      </button>

      <app-date-filter-popup (apply)="onApplyFilter($event)"></app-date-filter-popup>

      <button class="btn-outline">
        <app-currency-filter-popup (apply)="onCurrencyFilter($event)" />
      </button>
    </div>
  </div>

  <p-table [value]="paginatedTransactions()" sortMode="multiple">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">ID <p-sortIcon field="id" /></th>

        <th pSortableColumn="date">
          Date
          <p-sortIcon field="date"></p-sortIcon>
          <p-columnFilter
            field="date"
            type="date"
            display="menu"
            dateFormat="dd/mm/yy"
          ></p-columnFilter>
        </th>

        <th pSortableColumn="from">From <p-sortIcon field="from" /></th>
        <th pSortableColumn="to">To <p-sortIcon field="to" /></th>
        <th pSortableColumn="type">Transaction Type <p-sortIcon field="type" /></th>
        <th pSortableColumn="status">Status <p-sortIcon field="status" /></th>
        <th pSortableColumn="currency">Currency <p-sortIcon field="currency" /></th>
        <th pSortableColumn="total">Total Amount <p-sortIcon field="total" /></th>
        <th pSortableColumn="amount">Amount <p-sortIcon field="amount" /></th>
        <th pSortableColumn="fee">Fee <p-sortIcon field="fee" /></th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-tx>
      <tr app-transactions-row [tx]="tx"></tr>
    </ng-template>
  </p-table>
</div>
